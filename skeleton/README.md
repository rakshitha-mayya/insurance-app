# ${{ values.name }}

${{ values.description }}

## Overview

This project contains Terraform configuration to provision a simple AWS EC2 instance with the following specifications:

- **Instance Type**: t2.micro (Free tier eligible)
- **AMI**: Amazon Linux 2023 
- **Region**: ${{ values.aws_region }}
- **Storage**: 8GB GP3 (unencrypted for simplicity)
{% if values.key_pair_name %}
- **Key Pair**: ${{ values.key_pair_name }}
{% endif %}

## Architecture

The Terraform configuration creates:

- ðŸ–¥ï¸ **EC2 Instance** - t2.micro instance (free tier eligible)
- ðŸ”’ **Security Group** - Allows SSH (port 22) access only
- ðŸ“¦ **Root Volume** - 8GB GP3 EBS volume
- ðŸŒ **Public IP** - Auto-assigned public IP address

## Prerequisites

Before deploying this infrastructure, ensure you have:

1. **AWS Account** with appropriate permissions
2. **AWS CLI** configured with credentials
3. **Terraform** installed (version >= 1.0)
4. **(Optional)** AWS Key Pair created for SSH access

## Deployment

### GitHub Actions (Recommended)

This repository includes GitHub Actions workflows for automated deployment:

1. **Automatic Deployment**: Pushes to `main` branch trigger deployment
2. **Manual Deployment**: Use workflow dispatch to plan/apply/destroy
3. **Pull Request Planning**: PRs automatically run `terraform plan`

#### Required Secrets

Configure these secrets in your GitHub repository:

- `AWS_ACCESS_KEY_ID` - Your AWS access key
- `AWS_SECRET_ACCESS_KEY` - Your AWS secret key

#### Optional Variables

- `AWS_REGION` - Override the default region

### Manual Deployment

1. **Initialize Terraform**:
   ```bash
   cd terraform
   terraform init
   ```

2. **Plan the deployment**:
   ```bash
   terraform plan
   ```

3. **Apply the configuration**:
   ```bash
   terraform apply
   ```

4. **View outputs**:
   ```bash
   terraform output
   ```

## Outputs

After deployment, you'll receive:

- **Instance ID** - AWS instance identifier
- **Public IP** - Auto-assigned public IP address
- **Private IP** - VPC private IP
- **Public DNS** - AWS-provided DNS name
- **Security Group ID** - Created security group
- **SSH Command** - Ready-to-use SSH connection command

## Security Considerations

- ðŸ” **Simple Setup**: Basic security group with SSH access only
- ðŸ›¡ï¸ **Network Access**: SSH (port 22) access from anywhere
- ðŸ”‘ **Key Pairs**: SSH access requires AWS key pair (optional)
- ï¿½ **Free Tier**: t2.micro instance eligible for AWS free tier

## Customization

### Variables

You can customize the deployment by modifying `terraform.tfvars.json`:

```json
{
  "instance_name": "my-simple-ec2",
  "instance_description": "My simple EC2 instance",
  "aws_region": "us-west-2",
  "key_pair_name": "my-key-pair"
}
```

### Adding Resources

The Terraform configuration is modular. You can extend it by:

- Adding additional security group rules (HTTP, HTTPS)
- Increasing storage size
- Adding CloudWatch monitoring
- Setting up auto-scaling groups

## Cleanup

To destroy the infrastructure:

```bash
cd terraform
terraform destroy
```

Or use the GitHub Actions workflow with the "destroy" action.

## Support

For issues and questions:

1. Check the [Terraform AWS Provider documentation](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)
2. Review AWS EC2 documentation
3. Create an issue in this repository

## Cost Estimation

The default configuration (t2.micro instance) is **FREE TIER ELIGIBLE**:

- **Instance**: FREE for first 750 hours/month (t2.micro)
- **Storage**: FREE for first 30GB/month (8GB GP3)
- **Data Transfer**: FREE for first 15GB/month

**Total estimated cost**: **$0.00/month** (within free tier limits)

> âœ… **Free Tier Friendly**: This template is designed to stay within AWS free tier limits for new accounts.

---

*Generated by Backstage Software Template*
